<div align="center">

	<p>Your location using geo-tags:</p>
	<geolocation></geolocation>
	<br/>
	Latitude: <geolatitude></geolatitude><br/>
	Longitude: <geolongitude></geolongitude>
	<br/>
	
	<p>Your location using ruby api:</p>
	<p>
	<% if GeoLocation.known_position? %>
	  <p>Ruby claims to know where you are. (GeoLocation.known_position? == true)</p>
	<% else %>
	  <p>Ruby doesn't know where you are. (GeoLocation.known_position? == false)</p>
	<% end %>
	<a href="/system/map?q=<%= GeoLocation.latitude.to_s+','+GeoLocation.longitude.to_s %>"><%= GeoLocation.latitude.abs.to_s + " " + (GeoLocation.latitude < 0 ? "South" : "North") + ", " +
	GeoLocation.longitude.abs.to_s + " " + (GeoLocation.longitude < 0 ? "West" : "East") %></a>
	</p>
	<p>
	Latitude: <%= GeoLocation.latitude.to_s %><br/>
	Longitude: <%= GeoLocation.longitude.to_s %>
	</p>

  	<p>Geo-location information available asynchronously, 
	so you may have to <a href="/app/GeoLocation" target="_self">refresh page</a> 
	to see results of ruby calls</p>
	
	<% if System::get_property('platform') == 'APPLE' or System::get_property('platform') == 'Blackberry' or System::get_property('platform') == 'ANDROID' %>
		<p><a href="/app/GeoLocation/showmap?latitude=<%= GeoLocation.latitude.to_s%>&longitude=<%= GeoLocation.longitude.to_s%>"
			target="_self">[show map at location <%= GeoLocation.latitude.to_s%>,longitude=<%= GeoLocation.longitude.to_s%> ]</a></p>
	<% end %>

	<p>Distance calculation test:</p>
	<p> Distance between Washington, D.C. and Moscow, Russia: expected  4856.99 miles, geolocation returns
	<%= GeoLocation.haversine_distance(38.895, -77.036667, 55.755786, 37.617633).to_s %> miles
	</p>
	<p> Distance between Washington, D.C. and New York: expected 204.34 miles, geolocation returns
	<%= GeoLocation.haversine_distance(38.895, -77.036667, 40.716667, -74).to_s %> miles
	</p>

</div>
